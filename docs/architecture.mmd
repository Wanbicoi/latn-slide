---
config:
  layout: fixed
  theme: base
  look: neo
---
flowchart TD
 subgraph User["User"]
        UserBrowser@{ label: "User's Browser" }
  end
 subgraph subGraph1["Reverse Proxy"]
        Nginx["Nginx"]
  end
 subgraph subGraph2["Frontend (Client-Side)"]
        A["React App"]
        B["Refine.dev Framework"]
        C["Ant Design Components"]
        D["Reactflow Workflow UI"]
        E["OHIF Viewer"]
  end
 subgraph subGraph3["Backend (Supabase)"]
        F["Supabase Platform"]
        G["PostgreSQL Database"]
        H["Supabase Auth"]
        I["Supabase Realtime"]
        J["SQL Functions (Business Logic)"]
        K["SQL Views (Data Access)"]
  end
 subgraph subGraph4["External Integrations"]
        L["MONAI Label App"]
        M["Orthanc (DICOM Server)"]
  end
    UserBrowser -- Accesses --> Nginx
    Nginx -- Routes to --> A
    Nginx -- Authenticates & Proxies --> M & E
    A -- Built with --> B
    A -- Uses --> C
    A -- Integrates --> D
    A -- Embeds --> E
    A -- Communicates with --> F
    E -- Makes requests to --> F
    F -- Includes --> G & H & I
    G -- Contains --> J
    G -- Exposes data through --> K
    E -- Integrates with --> L
    L -- Interacts with --> M
    UserBrowser@{ shape: rect}
